<app-backoffice-navbar [title]="'Actualizar desafio'"></app-backoffice-navbar>

<div class="card">
    <div class="body">
        <div class="content">
            <div class="row">
                <form #quizForm="ngForm" [formGroup]="form" (ngSubmit)="saveForm()" class="col-md-8">
                    <div class="col-md-12">
                        <h4>Descrição</h4>
                        <textarea type="text" class="form-control" formControlName="text" [(ngModel)]="quiz.text"
                            rows="5" required>{{quiz.text}}</textarea>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-9">
                                <h4>Opções</h4>
                            </div>
                            <div class="col-md-3 text-right">
                                <button type="button" (click)="addAnswer()" class="btn btn-primary"> <i
                                        class="fa fa-plus"></i></button>
                            </div>
                        </div>

                        <blockquote>
                            <div class="form-group" *ngFor="let answer of quiz.answers; let i=index">
                                <label>Opcao {{i+1}}</label>
                                <div class="row">
                                    <div class="col-md-1">
                                        <input type="radio" [checked]="answer.correct"
                                            [ngModelOptions]="{standalone: true}" name="correct"
                                            (change)="changeCorrect(answer.text)" required />
                                    </div>
                                    <div class="col-md-9">
                                        <input type="text" class="form-control" [ngModelOptions]="{standalone: true}"
                                            [(ngModel)]="answer.text" value="{{answer.text}}" rows="5" required />
                                    </div>
                                    <div class="col-md-2">
                                        <button type="button" class="btn btn-danger" (click)="removeAnswer(i)">
                                            <i class="fa fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </blockquote>
                    </div>
                    <div class="col-md-2 ">
                        <div class="form-group">
                            <h4 class="title">Estado</h4>
                            <label class="toggle-control">
                                <input type="checkbox" formControlName="isActive" [(ngModel)]="quiz.isActive">
                                <span class="control"></span>
                            </label>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                    <div class="col-md-12 text-right">
                        <button class="btn btn-success btn-fill pull-rightx"
                                [disabled]="!quizForm.valid">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>